{
  "toolset": {
    "name": "File Manager",
    "description": "Provides tools for direct file and directory manipulation (create, read, edit, delete, copy, move, find, history)."
  },
  "config": {
    "header": "Configure File Manager Settings",
    "prompt_limit": "Enter max number of history items to show",
    "warn_invalid": "Invalid number entered. Using previous/default limit.",
    "warn_cancel": "\nConfiguration cancelled. Using previous/default values.",
    "error_generic": "\nConfiguration error: {error}",
    "info_saved": "File Manager configuration saved.",
    "error_save_failed": "\nFailed to save File Manager configuration."
  },
  "schemas": {
    "path": {
      "path_desc": "The absolute or relative path to the file or directory."
    },
    "create": {
      "path_desc": "The absolute or relative path for the new file or directory.",
      "content_desc": "Optional text content to write if creating a file.",
      "is_directory_desc": "Set to true if creating a directory, false (default) for a file."
    },
    "edit_new": {
      "path_desc": "The path to the file to edit.",
      "content_desc": "The complete new content to write to the file."
    },
    "from_to": {
      "from_path_desc": "The source path of the file or directory.",
      "to_path_desc": "The destination path."
    },
    "rename": {
      "path_desc": "The current path of the file or directory to rename.",
      "new_name_desc": "The desired new name for the file or directory (just the final component, not the full path)."
    },
    "find": {
      "query_desc": "The filename or directory name pattern to search for.",
      "directory_desc": "Optional directory to start the search from (defaults to current working directory). Search includes subdirectories."
    },
    "confirm_edit": {
      "confirmation_desc": "Confirm with 'yes' to apply the change, or cancel with 'no' or 'revert'."
    },
    "confirm_delete": {
      "confirmation_desc": "Confirm with 'yes' to delete, or cancel with 'no' or 'cancel'."
    },
    "restore": {
      "paths_desc": "A single file path (string) or a list of file paths to restore.",
      "backup_id_desc": "Optional: A fragment of the backup filename (like a timestamp part) to select a specific backup if multiple exist. Restores the latest matching backup otherwise."
    }
  },
  "tools": {
    "usage_guide": {
      "name": "file_manager_usage_guide",
      "description": "Displays usage instructions and context for the File Manager toolset."
    },
    "create": {
      "name": "create_file_or_dir",
      "description": "Creates a new file or directory at the specified path. Optionally writes content if creating a file.",
      "error": {
        "no_chat": "Error: No active chat session.",
        "exists": "Error: Path already exists: {path}",
        "content_for_dir": "Error: Cannot provide content when creating a directory: {path}",
        "generic": "Error creating path {path}: {error}"
      },
      "success": "Successfully created {type}: {path}"
    },
    "read": {
      "name": "read_file_content",
      "description": "Reads the content of a specified file as text.",
      "error": {
        "not_file": "Error: Path is not a file or does not exist: {path}",
        "not_found": "Error: File not found: {path}",
        "generic": "Error reading file {path}: {error}"
      },
      "success": "Content of {path}:\n---\n{content}\n---",
      "truncated_suffix": "\n... (truncated)"
    },
    "delete": {
      "name": "propose_delete_file_or_dir",
      "description": "Proposes deleting a specified file or directory. Requires confirmation using the 'confirm_delete_file_or_dir' tool.",
      "error": {
        "no_chat": "Error: No active chat session.",
        "not_exists": "Error: Path does not exist: {path}",
        "pending_action": "Error: Another delete or edit action is pending confirmation. Please resolve it first.",
        "state_write_failed": "Error: Failed to save pending delete state for {path}.",
        "generic": "Error proposing deletion for path {path}: {error}"
      },
      "msg_confirm_prompt": "Confirm deletion of {type}: {path}? Use the 'confirm_delete_file_or_dir' tool with 'yes' to proceed, or 'no'/'cancel' to abort."
    },
    "confirm_delete": {
      "name": "confirm_delete_file_or_dir",
      "description": "Confirms ('yes') or cancels ('no'/'cancel') the pending deletion proposed by the 'propose_delete_file_or_dir' tool.",
      "error": {
          "no_chat": "Error: No active chat session.",
          "no_pending": "Error: No deletion is currently pending confirmation.",
          "state_read_failed": "Error: Failed to read pending delete state.",
          "state_write_failed": "Error: Failed to clear pending delete state.",
          "target_missing": "Error: The target path '{path}' seems to have been modified or deleted since the deletion was proposed.",
          "delete_failed": "Error deleting path {path}: {error}",
          "invalid_confirmation": "Error: Invalid confirmation '{confirmation}'. Please use 'yes', 'no', or 'cancel'.",
          "generic": "Error confirming deletion for {path}: {error}"
      },
      "success_confirm": "Successfully deleted {type}: {path}",
      "success_cancel": "Pending deletion for path '{path}' cancelled."
    },
    "edit": {
      "name": "edit_file",
      "description": "Proposes overwriting a file with new content. Reads the original content, stores the proposed change, and prompts for confirmation using the 'confirm_file_edit' tool.",
      "error": {
        "no_chat": "Error: No active chat session.",
        "not_file": "Error: Path is not a file or does not exist: {path}",
        "read_failed": "Error reading original file {path}: {error}",
        "pending_edit_exists": "Error: Another edit is already pending confirmation. Please confirm or revert the previous edit first using 'confirm_file_edit'.",
        "state_write_failed": "Error: Failed to save pending edit state for {path}.",
        "generic": "Error proposing edit for file {path}: {error}"
      },
      "msg_confirm_prompt": "Proposed edit for file: {original_file_path}\n\nOriginal Content:\n```\n{original_file_content}\n```\n\nNew Content:\n```\n{new_content}\n```\n\nUse the 'confirm_file_edit' tool with 'yes' to apply this change, or 'no'/'revert' to cancel."
    },
    "confirm_edit": {
      "name": "confirm_file_edit",
      "description": "Confirms ('yes') or cancels ('no'/'revert') the pending file edit proposed by the 'edit_file' tool.",
      "error": {
        "no_chat": "Error: No active chat session.",
        "no_pending": "Error: No file edit is currently pending confirmation.",
        "state_read_failed": "Error: Failed to read pending edit state.",
        "state_write_failed": "Error: Failed to clear pending edit state.",
        "target_missing": "Error: The target file '{path}' seems to have been modified or deleted since the edit was proposed.",
        "backup_failed": "Error: Failed to create backup for {path}: {error}",
        "write_failed": "Error: Failed to write updated content to {path}: {error}",
        "invalid_confirmation": "Error: Invalid confirmation '{confirmation}'. Please use 'yes', 'no', or 'revert'.",
        "generic": "Error confirming edit for {path}: {error}"
      },
      "success_confirm": "File '{path}' updated successfully. Backup created: {backup_path}",
      "success_revert": "Pending edit for file '{path}' cancelled."
    },
    "copy": {
      "name": "copy_file_or_dir",
      "description": "Copies a file or directory from 'from_path' to 'to_path'. Requires user confirmation of the source path.",
      "error": {
        "no_chat": "Error: No active chat session.",
        "source_not_exists": "Error: Source path does not exist: {path}",
        "dest_exists": "Error: Destination path already exists: {path}. Overwriting not supported.",
        "generic": "Error copying {from_path} to {to_path}: {error}"
      },
      "success": "Successfully copied {type} from {from_path} to {to_path}"
    },
    "move": {
      "name": "move_file_or_dir",
      "description": "Moves (renames) a file or directory from 'from_path' to 'to_path'. Requires user confirmation of the source path.",
      "error": {
        "no_chat": "Error: No active chat session.",
        "source_not_exists": "Error: Source path does not exist: {path}",
        "dest_exists": "Error: Destination path already exists: {path}. Overwriting not supported.",
        "generic": "Error moving {from_path} to {to_path}: {error}"
      },
      "success": "Successfully moved {from_path} to {to_path}"
    },
    "rename": {
      "name": "rename_file_or_dir",
      "description": "Renames a file or directory within the same parent directory. Requires user confirmation of the new name.",
      "error": {
        "no_chat": "Error: No active chat session.",
        "invalid_new_name": "Error: 'new_name' ({new_name}) cannot contain path separators. Use 'move_file_or_dir' to move between directories.",
        "empty_new_name": "Error: Confirmed new name cannot be empty.",
        "path_not_exists": "Error: Original path does not exist: {path}",
        "target_exists": "Error: Target path already exists: {path}",
        "generic": "Error renaming {path} to {new_path}: {error}"
      },
      "success": "Successfully renamed {path} to {new_path}"
    },
    "find": {
      "name": "find_files",
      "description": "Searches for files or directories matching the query within a specified directory (or current directory) and its subdirectories.",
      "error": {
        "dir_not_found": "Error: Search directory does not exist or is not a directory: {directory}",
        "generic": "Error finding files: {error}"
      },
      "info_no_matches": "No files or directories found matching '{query}' in {directory}.",
      "success": "Found {count} match(es) for '{query}' in {directory}:\n{matches}",
      "info_limit_reached": "\n... (result limit reached)",
      "warn_permission": "Found {count} match(es) before encountering permission error in {directory}:\n{matches}\n(Search incomplete due to permissions)",
      "error_permission": "Error: Permission denied while searching in {directory}."
    },
    "check_exist": {
      "name": "check_path_exists",
      "description": "Checks if a given file or directory path exists in the file system.",
      "error": {
        "generic": "Error checking existence of path '{path}': {error}"
      },
      "success_exists": "Path exists: '{path}' (Type: {type})",
      "success_not_exists": "Path does not exist: '{path}'"
    },
    "history": {
      "name": "show_file_change_history",
      "description": "Displays the recent history of file operations performed by this toolset in the current chat.",
      "error": {
        "no_chat": "Error: No active chat session.",
        "generic": "Error retrieving file history: {error}"
      },
      "info_empty": "No file operations recorded in history for this chat.",
      "header": "Recent File Operations (Last {count} of {total} total):\n",
      "line_format": "- [{ts}] {op}"
    },
    "restore": {
      "name": "restore_file_from_backup",
      "description": "Restores one or more files from their backups created by 'confirm_file_edit'. Finds the latest matching backup (optionally filtered by backup_id) and requires confirmation before restoring.",
      "prompt_suffix": "(Confirm Restore Summary)",
      "error": {
        "no_chat": "Error: No active chat session.",
        "no_backup_found": "Error: No suitable backup found in history for file: {path}{filter}.",
        "no_valid_backups": "Error: Could not find any valid backups for the requested paths.",
        "backup_missing": "Error: Backup file does not exist: {backup_path}",
        "target_not_file": "Error: Target path exists but is not a file: {path}",
        "generic": "Error restoring file(s): {error}",
        "single_failed": "Failed to restore '{path}': {error}"
      },
      "success_single": "Successfully restored '{path}' from backup '{backup_name}'.",
      "success": "Restore attempt finished."
    },
    "finalize": {
      "name": "finalize_file_changes",
      "description": "Deletes all backup files created by this toolset in the current chat session AND clears the file operation history for this chat.",
      "prompt_confirm": "Delete {count} backup files and clear file history?",
      "prompt_suffix": "(Type 'yes' to confirm) > ",
      "error": {
        "no_chat": "Error: No active chat session.",
        "state_write_failed": "Error: Failed to write updated state after finalizing.",
        "generic": "Error finalizing file changes: {error}"
      },
      "info_no_backups": "No backup files found to delete. History remains.",
      "info_cancel": "Finalization cancelled by user.",
      "success": "Finalized file changes. Deleted {deleted_count} of {total_count} backup files. File history for this chat has been cleared.",
      "warn_errors": "\nErrors occurred deleting backups: {errors}. History has NOT been cleared due to errors."
    }
  }
}